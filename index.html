<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wedding Invitation - Sangga & Dhilla</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400;1,600&family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">

    <link rel="preload" as="image" href="images/cover-bg.png">
    <link rel="preload" as="image" href="images/amplop-atas.png">
    <link rel="preload" as="image" href="images/amplop-bawah.png">
</head>
<body>

    <!-- COVER PAGE -->
    <!-- <div id="cover-page">
        <div class="cover-content">
            <p class="subtitle font-serif">Undangan Pernikahan</p>
            <div class="couple-img">
                <img src="images/nama.png" alt="Sangga & Dhilla">
            </div>
            <p class="date font-serif">Minggu, 08 Februari 2026</p>
            <p class="font-serif" style="font-size: 1.175rem;">Kepada Yth :</p>
            <p class="font-serif" style="font-size: 1.175rem;">Bpk/Ibu/Saudara/i</p>
            <p class="guest-name font-serif"></p>
            <button class="btn-open" onclick="openInvitation()">‚úâ Buka Undangan</button>
        </div>
    </div> -->

    <div id="loading-screen">
        <div class="spinner"></div>
        <p style="margin-top:10px; font-size: 0.8rem; letter-spacing: 2px;">MEMUAT UNDANGAN...</p>
    </div>

    <section id="hero" class="h-screen flex flex-col justify-center items-center text-center bg-cream relative overflow-hidden envelope-container">

        <div class="envelope-flap top-flap"></div>

        <div class="envelope-flap bottom-flap"></div>
        
        <!-- <div class="hero-content-wrapper relative z-10 flex flex-col items-center justify-center h-full w-full">

            <p class="subtitle font-serif">Undangan Pernikahan</p>

            <div class="couple-img mb-12">
                <img src="images/nama.png" alt="Sangga & Dhilla">
            </div>

            <div class="header-date mb-12">
                <p class="font-serif" style="font-size: 1.2rem; color: var(--bg-green);">
                    Minggu, 08 Februari 2026
                </p>
            </div>
        
            <div class="guest-container mb-12">
                <p class="font-serif" style="font-size: 1.175rem;">Kepada Yth :</p>
                <p class="font-serif" style="font-size: 1.175rem;">Bpk/Ibu/Saudara/i</p>

                <div class="guest-box">
                    <p class="guest-name font-serif"  style="font-size: 1.175rem;">Tamu Undangan</p>
                </div>
            </div>

            <button id="open-btn" class="btn-open" onclick="openInvitation()"">
                <i class="fas fa-envelope-open mr-2"></i> Buka Undangan
            </button>
        </div> -->

        <div class="hero-content-wrapper relative z-10 flex flex-col items-center justify-center">

            <div class="couple-img-cover" id="cover" data-aos="zoom-in">
                <img src="images/cover.png" alt="Sangga & Dhilla">
            </div>

            <button id="open-btn" class="btn-open" onclick="openInvitation()"">
                <i class="fas fa-envelope-open mr-2"></i> Buka Undangan
            </button>

            <div class="cover-date mb-12">
                <p class="font-serif" style="font-size: 2.1rem; color: var(--bg-green);">
                    O8.02.2026
                </p>
            </div>
        </div>

    </section>

    <audio id="bg-music" loop>
        <source src="audio/lagu-pernikahan.mp3" type="audio/mp3">
    </audio>
    <div id="music-btn" class="floating-music" onclick="toggleMusic()">
        üéµ
    </div>

    <!-- MAIN CONTENT -->
    <div id="main-content">
        <header id="wedding-header">
            <div class="header-overlay"></div>
            
            <div class="header-content">
                <p class="subtitle font-serif" style="font-size: 1.5rem;">Undangan Pernikahan</p>
                
                <div class="couple-img" data-aos="zoom-in" data-aos-delay="0">
                    <img src="images/nama.png" alt="Sangga & Dhilla">
                </div>
                
                <p class="date font-serif" style="font-weight: 600; font-size: 1.8rem;">Minggu, 08 Februari 2026</p>

                <p class="yth font-serif" style="font-size: 1.175rem; margin-top: 80px">Kepada Yth :</p>
                <p class="orang font-serif" style="font-size: 1.175rem;">Bpk/Ibu/Saudara/i</p>
                <p class="guest-name font-serif mb-12" style="font-weight: 600 !important; margin-top: 15px; ">Tamu Undangan</p>
                <p class="note font-serif" style="font-size: 0.125rem; opacity: 0.85; margin-top: 80px">
                    *Undangan ini berlaku hanya untuk nama yang ditulis di atas.
                </p>
            </div>

            <div class="paper-ripped-header"></div>
        </header>

        <!-- BRIDE & GROOM SECTION -->
        <section id="bride-groom" class="bg-cream">
            <br/>
            <div style="position: absolute; 
                top: -230px; 
                right: -120px;
                transform: rotate(30deg);
                width: 320px; 
                height: 290px; 
                background: url('images/bunga2.png') center/contain no-repeat;
                z-index: 10;">
            </div>
            
            <div class="max-w-md text-center mb-8">
                <p class="font-serif" style="font-size: 0.975rem; line-height: 1.6;" data-aos="fade-down">
                    Assalamualaikum Warahmatullahi Wabarakatuh<br/><br/>
                    Dengan memohon rahmat dan ridho Allah Swt, kami bermaksud mengundang 
                    Bapak/Ibu/Saudara/i untuk menghadiri acara pernikahan kami:
                </p>
            </div>

            <h1 class="couple-names font-serif mb-2" data-aos="fade-right" data-aos-delay="200">
                Sangga
            </h1>

            <p class="text-center mb-2 font-serif" style="font-size: 0.975rem;"  data-aos="fade-right" data-aos-delay="400">
                Susangga
            </p>

            <p class="text-center mb-2 font-serif" style="font-size: 0.975rem;"  data-aos="fade-right" data-aos-delay="800">
                Putra Ketiga dari<br/>Bpk. Surya Alam (Alm) & Ibu Kartini (Alm)
            </p>

            <h1 class="couple-names font-serif mb-4" data-aos="zoom-in" data-aos-delay="200">
                <span style="font-size: 2.5rem;">&</span>
            </h1>

            <h1 class="couple-names font-serif mb-2" data-aos="fade-left"  data-aos-delay="200">
                Dhilla
            </h1>

            <p class="text-center mb-2 font-serif" style="font-size: 0.975rem;"  data-aos="fade-left" data-aos-delay="400">
                Dian Rezki Fadhilla
            </p>

            <p class="text-center mb-2 font-serif" style="font-size: 0.975rem;"  data-aos="fade-left" data-aos-delay="800">
                Putri Pertama dari <br/> Bpk. Yarniwaldi dan Ibu Kuspinah
            </p>

            <!-- <div style="position: absolute; 
                        bottom: 450px; 
                        right: -90px; 
                        width: 200px; 
                        height: 140px; 
                        transform: rotate(270deg);
                        background: url('images/bunga3.png') center/contain no-repeat;
                        z-index: 5;">
            </div> -->

            <div style="position: absolute; 
                        bottom: 250px; 
                        left: -90px; 
                        width: 200px; 
                        height: 140px;
                        transform: rotate(0deg);
                        background: url('images/bunga3.png') center/contain no-repeat;
                        z-index: 5;">
            </div>

            <div style="position: absolute;
                        bottom: -80px;
                        left: 50%;
                        transform: translateX(-50%);
                        width: 300px;
                        height: 320px;
                        background: url('images/bunga1.png') center/contain no-repeat;
                        z-index: 25;">
            </div>

        </section>

        <!-- TIME & PLACE SECTION -->
        
        <section id="time-place" class="bg-green">
            
            <h2 class="font-serif" data-aos="fade-down">Waktu & Tempat</h2>
            
            <div class="countdown">
                <div class="countdown-item" data-aos="zoom-in" data-aos-delay="0">
                    <div class="number" id="days">00</div>
                    <div class="label">Hari</div>
                </div>
                <div class="countdown-item" data-aos="zoom-in" data-aos-delay="200">
                    <div class="number" id="hours">00</div>
                    <div class="label">Jam</div>
                </div>
                <div class="countdown-item" data-aos="zoom-in" data-aos-delay="400">
                    <div class="number" id="minutes">00</div>
                    <div class="label">Menit</div>
                </div>
            </div>

            <div class="text-center mb-8">
                <p class="date" style="font-weight: 600; font-size: 0.7rem; margin-bottom: 1.5rem;" data-aos="zoom-in" data-aos-delay="0">Minggu, 08 Februari 2026</p>
                <p class="font-serif" style="font-size: 1rem; margin-bottom: 0.5rem;" data-aos="zoom-in" data-aos-delay="100">Akad Nikah - 08:00 s.d 09.00 WIB</p>
                <p class="font-serif" style="font-size: 1rem;" data-aos="zoom-in" data-aos-delay="200">Resepsi - 09:00 s.d 12.00 WIB</p>
            </div>

            <div class="max-w-md text-center mb-8" data-aos="fade-up" data-aos-delay="200">
                <p style="font-weight: 600; margin-bottom: 0.5rem;">Sport Center Alam Sutera</p>
                <p class="font-serif" style="font-size: 0.875rem;">
                    Jl. Alam Sutera Boulevard, Pd. Jagung Tim., Kec. Serpong Utara, 
                    Kota Tangerang Selatan, Banten 15326
                </p>
            </div>

            <div class="text-center mb-2" style=" position: relative; z-index: 50; margin-top: 4rem; margin-bottom: 1rem;" data-aos="zoom-in" data-aos-delay="200">
                <a href="https://maps.app.goo.gl/JkYptsdb5efHHhm37" target="_blank" class="btn-maps">
                    üìç Lihat Lokasi
                </a>
            </div>

            <div class="venue-image" data-aos="fade-up" data-aos-duration="1500">
                <img src="images/venue.png" alt="Venue">
            </div>

            <div class="paper-ripped-bottom"></div>
        </section>


        <!-- LOVE STORY SECTION -->
        <section id="dresscode" class="bg-cream">

            <h2 class="font-serif" data-aos="fade-down"><br>Dresscode</h2>

            <div class="max-w-md text-center mb-8">
                <p class="font-serif" style="font-size: 0.975rem; line-height: 1.6;" data-aos="fade-up">
                    Dengan hormat kami menganjurkan tamu untuk mengenakan baju dengan nuansa warna-warna ini di hari istimewa kami :
                </p>
            </div>

            <div class="dresscode-palette">
                <div class="color-item" data-aos="flip-left" data-aos-delay="100">
                    <div class="color-circle" style="background-color: #e6dac9;"></div>
                    <p>Cream</p>
                </div>

                <div class="color-item" data-aos="flip-left" data-aos-delay="300">
                    <div class="color-circle" style="background-color: #777057;"></div>
                    <p>Olive Green</p>
                </div>
                
                <div class="color-item" data-aos="flip-left" data-aos-delay="500">
                    <div class="color-circle" style="background-color: #824425;"></div>
                    <p>Brown</p>
                </div>

                <div class="color-item" data-aos="flip-left" data-aos-delay="700">
                    <div class="color-circle" style="background-color: #af8552;"></div>
                    <p>Caramel</p>
                </div>
            </div>
            
            <div class="paper-ripped-bottom"></div>

            <div style="position: absolute;
                        bottom: 440px;
                        left: 50%;
                        transform: translateX(-50%);
                        width: 300px;
                        height: 320px;
                        background: url('images/bunga1.png') center/contain no-repeat;
                        z-index: 25;">
            </div>
        </section>

        <!-- WEDDING GIFT SECTION -->
        <section id="gift" class="bg-green">
            <h2 class="font-serif" data-aos="fade-down" >Tanda Kasih</h2>

            <p class="text-center mb-8 max-w-md font-serif" style="font-size: 0.875rem; line-height: 1.6; margin-left: auto; margin-right: auto;" data-aos="fade-down" data-aos-delay="200">
                Restu dan doa dari Anda adalah anugerah yang sangat berarti bagi kami. 
                Namun, jika memberi adalah ungkapan kasih sayang Anda, Anda dapat memberikannya 
                secara elektronik.
            </p>

            <div class="max-w-md" style="margin: 0 auto;">
                <div class="gift-card" data-aos="fade-up">
                    <div class="gift-text">
                        <h4>Bank Syariah Indonesia - BSI</h4>
                        <p>Dian Rezki Fadhilla<br/>7205450585</p>
                    </div> 
                    <button class="btn-copy" onclick="copyText('7205450585')">üìã Salin</button>
                </div>

                <div class="gift-card" data-aos="fade-up">
                    <div class="gift-text">
                        <h4>Bank Mandiri</h4>
                        <p>Susangga<br/>1150007849799</p>
                    </div>
                    <button class="btn-copy" onclick="copyText('1150007849799')">üìã Salin</button>
                </div>

                <div class="gift-card" data-aos="fade-up">
                    <div class="gift-text">
                        <h4>Kirim Hadiah</h4>
                        <p>Susangga/Dian Rezki Fadhilla<br/>
                           Jalan Marga Jaya No.10 RT 01 RW 04. Pakulonan. Serpong Utara 15325</p>
                    </div>
                    <button class="btn-copy" onclick="copyText('Susangga/Dian Rezki Fadhilla Jalan Marga Jaya No.10 RT 01 RW 04. Pakulonan. Serpong Utara 15325')">üìã Salin</button>
                </div>
            </div>

            <div style="position: absolute;
                        bottom: 650px;
                        right: -200px;
                        width: 400px;
                        height: 320px;
                        background: url('images/bunga1.png') center/contain no-repeat;
                        z-index: 25;">
            </div>

            <div style="position: absolute;
                        bottom: -100px;
                        left: 2px;
                        transform: translateX(-50%);
                        width: 400px;
                        height: 320px;
                        background: url('images/bunga1.png') center/contain no-repeat;
                        z-index: 25;">
            </div>

            <div class="paper-ripped-bottom"></div>
        </section>

        <!-- BEST WISHES SECTION -->
        <section id="wishes" class="bg-cream">
            
            <h2 class="font-serif" data-aos="fade-down">Doa & Harapan</h2>
            <p class="text-center mb-8 max-w-md font-serif" style="font-size: 0.875rem; margin-top:-1rem; line-height: 1.6; margin-left: auto; margin-right: auto;" data-aos="fade-down" data-aos-delay="200">
                Yang Terbaik untuk Kami
            </p>

            <form class="wish-form" onsubmit="submitWish(event)" data-aos="fade-right">
                <input type="text" id="wish-name" placeholder="Tamu Undangan" required>
                
                <select id="wish-attendance" required>
                    <option value="">Konfirmasi Kehadiran</option>
                    <option value="hadir">Hadir</option>
                    <option value="tidak-hadir">Tidak Hadir</option>
                    <option value="ragu">Masih Ragu</option>
                </select>

                <textarea id="wish-message" placeholder="Tulis Doa dan Harapan..." required></textarea>

                <button type="submit" class="btn-submit">üí¨ Kirim</button>
            </form>

            <div id="wishes-list" class="max-w-md" data-aos="fade-left" data-aos-delay="200">
                
            </div>

            <div id="pagination-controls" class="text-center mb-8" style="margin-top: 1rem; display: flex; justify-content: center; gap: 10px;">
            
            </div>

            <div style="position: absolute;
                        bottom: -180px;
                        left: 50%;
                        transform: translateX(-50%);
                        width: 250px;
                        height: 320px;
                        background: url('images/bunga1.png') center/contain no-repeat;
                        z-index: 25;">
            </div>

            <div class="paper-ripped-bottom"></div>
        </section>

        <!-- FOOTER -->
        <section class="bg-cream" id="footer">

            <div class="footer-couple-img-doodle" style="margin-top: 50px;" data-aos="zoom-in" data-aos-delay="0">
                    <img src="images/doodle.png" alt="Sangga & Dhilla">
                </div>

            <p class="text-center mb-8 max-w-md font-serif" style="font-size: 0.875rem; line-height: 1.6; margin-left: auto; margin-right: auto; margin-top: 0px;" data-aos="fade-down">
                Merupakan suatu kebahagiaan dan kehormatan bagi kami, apabila 
                Bapak/Ibu/Saudara/i, berkenan hadir dan memberikan doa restu kepada kami
            </p>

            <p class="text-center mb-4 font-serif" style="font-size: 0.875rem;"  data-aos="fade-down" data-aos-delay="200">Kami Yang Berbahagia,</p>

            <div class="footer-couple-img"  data-aos="fade-down" data-aos-delay="400">
                <img src="images/nama-black.png" alt="Sangga & Dhilla">
            </div>

            <div style="position: absolute;
                        bottom: 0px;
                        right: -150px;
                        transform: rotate(90deg);
                        width: 300px;
                        height: 180px;
                        background: url('images/bunga2.png') center/contain no-repeat;
                        z-index: 25;">
            </div>

            <div style="position: absolute;
                        bottom: 0px;
                        left: -150px;
                        transform: rotate(-90deg) scaleX(-1);
                        width: 300px;
                        height: 180px;
                        background: url('images/bunga2.png') center/contain no-repeat;
                        z-index: 25;">
            </div>

            <p class="text-center" style="font-size: 0.70rem !important; opacity: 0.2;"><br>¬© Azzahra</p>
        </section>

    </div>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    
    <script>
        AOS.init({
            duration: 1000, /* Durasi animasi 1 detik (biar halus) */
            once: true,     /* Animasi cuma sekali saat scroll ke bawah */
            offset: 100,    /* Mulai animasi sedikit sebelum elemen muncul */
        });
    </script>

    <script>
        // --- 1. VARIABEL GLOBAL ---
        const music = document.getElementById('bg-music');
        const musicBtn = document.getElementById('music-btn');
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxHXXo41fmV3pWoTfse0LfpmmqsjzkR6A9t8_Ve5u26nSR_LlaGoqYZW5djsbMNQSziPg/exec'
        let isPlaying = false;

        let wishesData = []; // Data kosong awal
        let currentPage = 1;
        const itemsPerPage = 5;
        const openBtn = document.getElementById('open-btn');

        document.documentElement.style.overflow = 'hidden';
        document.body.style.overflow = 'hidden';
        document.body.classList.add('cover-active');

        // --- FUNGSI NAMA TAMU OTOMATIS & KUNCI FORM ---
        function getGuestName() {
            const urlParams = new URLSearchParams(window.location.search);
            const guestName = urlParams.get('to'); 
            
            const guestLabel = document.querySelector('.guest-name'); 
            const inputName = document.getElementById('wish-name');   

            if (guestName) {
                // Ubah Nama di Cover
                if(guestLabel) guestLabel.textContent = guestName;
                
                // Ubah Nama di Form & KUNCI
                if(inputName) {
                    inputName.value = guestName; 
                    inputName.readOnly = true; 
                    inputName.style.backgroundColor = "#e9ecef";
                    inputName.style.fontWeight = "bold";
                }
            }
        }

        // Panggil fungsi ini saat halaman dimuat
        window.onload = function() {
            getGuestName();
            renderWishes(); // (Nanti untuk pagination)
        };

        // --- 2. FUNGSI BUKA UNDANGAN ---
        function openInvitation() {
            // A. Animasi CSS (Buka Amplop)
            document.body.classList.add('cover-open');
            
            // B. Putar Musik
            playMusic();

            // C. Tunggu animasi selesai (1.2 detik), baru bisa scroll
            setTimeout(() => {
                document.body.classList.remove('cover-active');
                document.body.classList.add('cover-opened');

                document.documentElement.style.overflow = ''; // Hapus kunci html
                document.body.style.overflow = '';        // Hapus kunci body
                document.body.style.overflowX = 'hidden'; // Tetap jaga biar ga geser samping

                // --- [BARU] REFRESH ANIMASI AOS ---
                // Biar animasi fade-up sadar kalau kontennya sudah muncul
                if(typeof AOS !== 'undefined') {
                    AOS.refresh(); 
                }
            }, 1200);
        }

        // --- 3. FUNGSI SCROLL NAVIGASI ---
        function scrollToSection(sectionId) {
            const section = document.getElementById(sectionId);
            if (section) {
                section.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // --- 4. FUNGSI MUSIK ---
        function playMusic() {
            music.play().catch(e => console.log("Audio perlu interaksi user"));
            isPlaying = true;
            if(musicBtn) {
                musicBtn.innerHTML = "üéµ";
                musicBtn.classList.remove('paused');
            }
        }

        function toggleMusic() {
            const btn = document.getElementById('music-btn');
            if (isPlaying) {
                music.pause();
                isPlaying = false;
                btn.innerHTML = "üéµ";
                btn.classList.add('paused');
            } else {
                music.play();
                isPlaying = true;
                btn.innerHTML = "üéµ";
                btn.classList.remove('paused');
            }
        }

        // --- 5. FUNGSI HITUNG MUNDUR (COUNTDOWN) ---
        function updateCountdown() {
            // Pastikan tanggal sesuai target: 8 Feb 2026
            const weddingDate = new Date('2026-02-08T08:00:00').getTime();
            const now = new Date().getTime();
            const difference = weddingDate - now;

            if (difference > 0) {
                const days = Math.floor(difference / (1000 * 60 * 60 * 24));
                const hours = Math.floor((difference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((difference % (1000 * 60 * 60)) / (1000 * 60));

                document.getElementById('days').textContent = String(days).padStart(2, '0');
                document.getElementById('hours').textContent = String(hours).padStart(2, '0');
                document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
            }
        }
        // Jalankan countdown
        setInterval(updateCountdown, 1000);
        updateCountdown();

        // --- 6. FUNGSI SALIN TEKS ---
        function copyText(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('Berhasil disalin: ' + text);
            });
        }

        // --- 7. FUNGSI KIRIM UCAPAN ---
        function submitWish(event) {
            event.preventDefault(); // Mencegah reload halaman
            
            const name = document.getElementById('wish-name').value;
            const message = document.getElementById('wish-message').value;

            // Buat kartu ucapan baru
            const wishCard = document.createElement('div');
            wishCard.className = 'wish-card';
            wishCard.innerHTML = `
                <h4>${name}</h4>
                <p>${message}</p>
            `;

            // Masukkan ke daftar paling atas
            const wishList = document.getElementById('wishes-list');
            wishList.insertBefore(wishCard, wishList.firstChild);

            // Reset form
            event.target.reset();
            alert('Terima kasih atas doa dan ucapannya! üôè');
        }
// --- FUNGSI AMBIL DATA DARI GOOGLE SHEETS (LOAD) ---
        function loadWishes() {
            const listContainer = document.getElementById('wishes-list');
            listContainer.innerHTML = '<p class="text-center" style="font-size:0.8rem">Memuat ucapan...</p>';

            fetch(SCRIPT_URL)
                .then(response => response.json())
                .then(data => {
                    // Simpan data dari sheets ke variabel lokal
                    wishesData = data.data.map(item => ({
                        name: item.nama,
                        message: item.ucapan,
                        attendance: item.kehadiran
                    }));
                    
                    renderWishes(); // Tampilkan
                })
                .catch(error => {
                    console.error('Error:', error);
                    listContainer.innerHTML = '<p class="text-center">Gagal memuat ucapan.</p>';
                });
        }

        // Panggil loadWishes saat halaman dibuka
        window.onload = function() {
            getGuestName();
            loadWishes(); // <--- Panggil fungsi load

            // Update Countdown
            setInterval(updateCountdown, 1000);
            updateCountdown();
        };

// --- FUNGSI RENDER (TAMPILKAN) UCAPAN ---
        function renderWishes() {
            const listContainer = document.getElementById('wishes-list');
            const paginationContainer = document.getElementById('pagination-controls');
            
            listContainer.innerHTML = "";
            paginationContainer.innerHTML = "";

            if (wishesData.length === 0) {
                listContainer.innerHTML = '<p class="text-center" style="font-size:0.8rem">Belum ada ucapan. Jadilah yang pertama!</p>';
                return;
            }

            // Hitung Pagination
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const pageData = wishesData.slice(startIndex, endIndex);

            // Render Kartu
            pageData.forEach(wish => {
                const card = document.createElement('div');
                card.className = 'wish-card';
                
                // LOGIKA EMOJI KEHADIRAN
                let emoji = '';
                if (wish.attendance === 'hadir') {
                    emoji = '<span title="Hadir">‚úÖ</span>';
                } else if (wish.attendance === 'tidak-hadir') {
                    emoji = '<span title="Berhalangan">‚ùå</span>';
                } else if (wish.attendance === 'ragu') {
                    emoji = '<span title="Masih Ragu">‚ùì</span>';
                }

                // Tampilkan emoji di sebelah nama
                let attendanceBadge = emoji ? `<span style="font-size:0.7rem; margin-left:2px;">${emoji}</span>` : '';

                // --- BAGIAN INI YANG KEMARIN HILANG ---
                card.innerHTML = `<h4>${wish.name} ${attendanceBadge}</h4><p>${wish.message}</p>`;
                listContainer.appendChild(card);
                // ---------------------------------------
            });

            // Render Tombol Pagination
            const totalPages = Math.ceil(wishesData.length / itemsPerPage);
            if (totalPages <= 1) return;

            if (currentPage > 1) {
                const prevBtn = createPageBtn('<<', () => changePage(currentPage - 1));
                paginationContainer.appendChild(prevBtn);
            }
            for (let i = 1; i <= totalPages; i++) {
                const btn = createPageBtn(i, () => changePage(i));
                if (i === currentPage) btn.classList.add('active'); 
                paginationContainer.appendChild(btn);
            }
            if (currentPage < totalPages) {
                const nextBtn = createPageBtn('>>', () => changePage(currentPage + 1));
                paginationContainer.appendChild(nextBtn);
            }
        }

        // Helper bikin tombol (VERSI BARU - LEBIH BERSIH)
        function createPageBtn(text, onClick) {
            const btn = document.createElement('button');
            btn.innerText = text;
            btn.onclick = onClick;
            // Gunakan class CSS yang kita buat tadi
            btn.className = 'btn-page'; 
            return btn;
        }

        function changePage(page) {
            currentPage = page;
            renderWishes(); // Render ulang saat pindah halaman
        }

        // --- UPDATE FUNGSI KIRIM UCAPAN ---
        function submitWish(event) {
            event.preventDefault();
            
            const btnSubmit = document.querySelector('.btn-submit');
            const originalText = btnSubmit.innerText;
            btnSubmit.innerText = "Mengirim...";
            btnSubmit.disabled = true;

            const name = document.getElementById('wish-name').value;
            const attendance = document.getElementById('wish-attendance').value;
            const message = document.getElementById('wish-message').value;

            // Siapkan data form untuk dikirim
            const formData = new FormData();
            formData.append('nama', name);
            formData.append('kehadiran', attendance);
            formData.append('ucapan', message);

            fetch(SCRIPT_URL, { method: 'POST', body: formData })
                .then(response => {
                    alert('Terima kasih! Ucapan berhasil dikirim.');
                    
                    // Reset Form
                    event.target.reset();
                    btnSubmit.innerText = originalText;
                    btnSubmit.disabled = false;
                    
                    // Refresh data ucapan tanpa reload halaman
                    loadWishes(); 
                })
                .catch(error => {
                    console.error('Error!', error.message);
                    alert('Gagal mengirim ucapan. Coba lagi ya.');
                    btnSubmit.innerText = originalText;
                    btnSubmit.disabled = false;
                });
        }

        window.onload = function() {
            // 1. Hilangkan Loader setelah halaman siap
            const loader = document.getElementById('loading-screen');
            if (loader) {
                loader.style.opacity = '0';
                setTimeout(() => {
                    loader.style.visibility = 'hidden';
                    loader.style.display = 'none'; // Hapus total biar ga ganggu klik
                }, 500);
            }

            // 2. Fungsi lama kamu
            getGuestName();
            loadWishes();
            setInterval(updateCountdown, 1000);
            updateCountdown();
        };
    </script>

</body>
</html>